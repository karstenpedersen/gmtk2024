[gd_scene load_steps=9 format=3 uid="uid://11bxq6vansxh"]

[ext_resource type="PackedScene" uid="uid://brae6ovj5r6in" path="res://src/entities/modules/draggable_module/draggable_module.tscn" id="1_838dj"]
[ext_resource type="Script" path="res://src/components/timer_component.gd" id="2_sc3w7"]
[ext_resource type="Script" path="res://src/components/start_on_mount_component.gd" id="2_uiyr8"]
[ext_resource type="Script" path="res://src/components/spawner_component.gd" id="3_qg62a"]
[ext_resource type="Script" path="res://src/components/spawner_timer_component.gd" id="3_xwkyb"]
[ext_resource type="PackedScene" uid="uid://0qe7jtkjvfu1" path="res://src/entities/projectiles/projectile.tscn" id="4_vasbp"]
[ext_resource type="PackedScene" uid="uid://diifca8xuek5r" path="res://src/systems/drag-and-drop/snap_point.tscn" id="5_5asm8"]

[sub_resource type="CylinderMesh" id="CylinderMesh_y6doc"]
top_radius = 0.25
bottom_radius = 0.25
height = 1.0

[node name="GunModule" instance=ExtResource("1_838dj")]

[node name="HurtboxComponent" parent="Components" index="2"]
collision_mask = 4

[node name="StartOnMountComponent" type="Node" parent="Components" index="4" node_paths=PackedStringArray("timers", "draggable_component")]
script = ExtResource("2_uiyr8")
timers = [NodePath("../TimerComponent")]
draggable_component = NodePath("../DraggableComponent")

[node name="TimerComponent" type="Timer" parent="Components" index="5"]
script = ExtResource("2_sc3w7")
cooldowns = Array[float]([0.2, 5.0])

[node name="SpawnerTimerComponent" type="Node" parent="Components" index="6" node_paths=PackedStringArray("timer_component", "spawner_components")]
script = ExtResource("3_xwkyb")
timer_component = NodePath("../TimerComponent")
spawner_components = [NodePath("../../Visuals/Barrel/SpawnerComponent")]

[node name="Barrel" type="MeshInstance3D" parent="Visuals" index="1"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 0, -0.5)
mesh = SubResource("CylinderMesh_y6doc")

[node name="SpawnerComponent" type="Node3D" parent="Visuals/Barrel" index="0"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0.5, 2.18557e-08)
script = ExtResource("3_qg62a")
scene = ExtResource("4_vasbp")

[node name="SnapPoint4" parent="SnapPoints" index="0" node_paths=PackedStringArray("parent") instance=ExtResource("5_5asm8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 0, 0)
parent = NodePath("../..")

[node name="SnapPoint3" parent="SnapPoints" index="1" node_paths=PackedStringArray("parent") instance=ExtResource("5_5asm8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 0, 0)
parent = NodePath("../..")

[node name="SnapPoint" parent="SnapPoints" index="2" node_paths=PackedStringArray("parent") instance=ExtResource("5_5asm8")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)
parent = NodePath("../..")
